{% load i18n %}
{% load staticfiles %}
{% load gross from prices_i18n %}
{% load get_thumbnail from product_images %}

<div class="container">
  {% if quantity > 0 %}
    <div class="cart-dropdown__list">
    {% for line in lines %}
      <div class="row item">
        <div class="col-md-10">
          <a href="{{ line.variant_url }}">
            <img class="cart-dropdown__image" src="{% get_thumbnail line.image size="60x60" %}" alt="">
            <h3>
              {{ line.product }}
              <span>x{{ line.quantity }}</span>
              <p>{{ line.variant }}</p>
            </h3>
          </a>
        </div>
        <div class="col-md-2">
          <div class="float-right">
            <h3>{{ line.line_total }}</h3>
          </div>
        </div>
      </div>
    {% endfor %}
    </div>
    <div class="row cart-dropdown__total">
      <div class="col-md-6">
        <h3>{% trans "Subtotal" %} <br> <span>{% trans "(Delivery caclulated on checkout)" %}</span></h3>
      </div>
      <div class="col-md-6">
        <h3 class="float-md-right price {% if lines|length == 1 %}single{% endif %}" data-quantity="{{ quantity }}">
          <p>{{ total }}</p>
        </h3>
      </div>
    </div>
    <div class="row cart-dropdown__actions">
      <div class="col-md-6">
        <a href="{% url "cart:index" %}" class="btn secondary float-md-right">{% trans "See cart" %}</a>
      </div>
      <div class="col-md-6">
        <a href="{% url "checkout:login" %}" class="btn primary">{% trans "Checkout" %}</a>
      </div>
    </div>
  {% else %}
    <div class="text-md-center cart-dropdown__empty">
      <h3>{% trans "There are no products in your shopping cart." %}</h3>
      <img src="{% static 'images/pirate_cart.png' %}" srcset="{% static 'images/pirate_cart.png' %} 1x, {% static 'images/pirate_cart2x.png' %} 2x">
      <a href="/" class="btn primary">{% trans "Check out our sales" %}</a>
    </div>
  {% endif %}
</div>
