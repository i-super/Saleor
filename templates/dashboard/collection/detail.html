{% extends 'dashboard/base.html' %}
{% load materializecss %}
{% load i18n %}

{% block title %}
    {% if collection.pk %}{{ collection }}{% else %}{% trans 'Add new collection' %}{% endif %} - {% trans 'Collections' %} - {{ block.super }}{% endblock %}

{% block body_class %}body-collections{% endblock %}

{% block menu_collections_class %}active{% endblock %}

{% block page_title %}{% if collection.pk %}{{ collection }}{% else %}{% trans 'Add new collection' %}{% endif %}{% endblock %}

{% block breadcrumbs %}
    <ul class="breadcrumbs breadcrumbs--history">
        <li><a href="{% url "dashboard:collection-list" %}" class="breadcrumb">{% trans "Collections" %}</a></li>
        <li class="back-mobile"><a href="{% url "dashboard:collection-list" %}" class="breadcrumb"><i class="material-icons">arrow_back</i></a></li>
        <li><span class="breadcrumbs--ellipsed-item">{% if collection.pk %}{{ collection }}{% else %}{% trans 'Add new collection' %}{% endif %}</span></li>
    </ul>
{% endblock %}

{% block header_extra %}
    {% if collection.pk %}
        <a class="dropdown-button" href="#" data-activates="collection-delete" data-constrainwidth="false">
            <i class="material-icons">arrow_drop_down</i>
        </a>
        <ul id="collection-delete" class="dropdown-content">
            <li>
                <a class="modal-trigger-custom" data-href="{% url 'dashboard:collection-delete' collection.pk %}" href="#base-modal">
                    {% trans "Remove collection" %}
                </a>
            </li>
        </ul>
    {% endif %}
{% endblock %}

{% block content %}
    <form method="post" id="form-category" action="" novalidate>
        {% csrf_token %}
        <div class="row">
            {{ form.name|materializecss:"col l8" }}
        </div>
        <div class="row">
            {{ form.products|materializecss:"col l8" }}
        </div>
        <div class="row">
            <div class="col s12 l8 right-align">
                <a href="{% url 'dashboard:collection-list' %}" class="btn-flat">{% trans "Cancel" %}</a>
                {% if collection.pk %}
                    <button type="submit" class="btn">{% trans "Update" %}</button>
                {% else %}
                    <button type="submit" class="btn">{% trans "Create" %}</button>
                {% endif %}
            </div>
        </div>
    </form>
{% endblock %}