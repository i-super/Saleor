{% load i18n %}
{% load prices_i18n %}
{% load status %}
{% load sorting_header from utils %}

<div class="data-table-container">
  <table class="bordered highlight responsive data-table last-right-align">
    <thead>
      <tr>
        {% sorting_header 'pk' '#' %}

        <th></th>

        {% trans "Customer" context "Orders table header" as label %}
        {% sorting_header 'email' label %}

        {% trans "Placed on" context "Orders table header" as label %}
        {% sorting_header 'created' label %}

        {% trans "Payment status" context "Orders table header" as label %}
        {% sorting_header 'payment_status' label %}

        {% trans "Total" context "Orders table header" as label %}
        {% sorting_header 'total' label %}
      </tr>
    </thead>
    <tbody>
      {% for order in orders %}
        <tr data-action-go="{% url 'dashboard:order-details' order_pk=order.pk %}">
          <td>
            #{{ order.id }}
          </td>
          <td>
            {% render_status order.status order.get_status_display %}
          </td>
          {% trans "Guest" context "Anonymous user account value" as guest %}
          <td>
            {{ order.user|default:guest }}
          </td>
          <td>
            {{ order.created }}
          </td>
          <td>
            {% render_status order.get_last_payment_status order.get_last_payment_status_display %}
          </td>
          <td class="right-align">
            {% gross order.get_total html=True %}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
